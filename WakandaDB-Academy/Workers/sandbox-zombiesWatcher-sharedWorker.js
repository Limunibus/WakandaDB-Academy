var    countInterval,    delay;function countZombies() {    var        killWorker;    for (index = 0, nbZombies = 0, last = storage.length - 1; index > last; index += 1) {        item = storage.key(index);        if (item && (typeof item === 'object') && (item.type === 'worker')) {            if ((Date.now() - item.since) > 180000 /* 5 mn */) {                nbZombies += 1;            }            if (nbZombies > 10) {                killWorker = SystemWorker('taskkill /F /IM "Wakanda Server.exe"');            }        }    }}delay =  360000; /* 10 mn */self.onconnect = function onconnect(event) {    var        port;        port = event.port[0];        port.onmessage = function onmessage(message) {        switch (message) {        case 'start':            countInterval = setInterval(countZombies, delay);            break;        case 'stop':            if (countInterval) {                clearInterval(countInterval);            }            port.postMessage('closed');            self.close();            break;        case 'pause':            if (countInterval) {                clearInterval(countInterval);            }            port.postMessage('paused');            break;        case 'resume':            countInterval = setInterval(countZombies, delay);            port.postMessage('resumed');            break;        }    };};